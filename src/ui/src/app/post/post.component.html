<div class="post">
  <span [style]="{'font-size':'20px'}">{{post.username}}</span>
  <span> posted:</span>
  <span [style]="{'font-size':'12px', 'float': 'right'}">{{post.datePosted | date:'MMM d, y h:mm a'}}</span>
  <button *ngIf="canDelete" (click)="deletePost(post)">X</button>
  <div class="postContent">{{post.message}}<div *ngIf="post.imageLink != ''"><img class="postImage"
        [src]="post.imageLink"></div>
  </div>
  <iframe *ngIf="embedYoutube" width="560" height="315" [src]=safeYoutubeLink title="YouTube video player"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowfullscreen></iframe>

  <div><app-like [postItem]="post"></app-like>{{post.comments.length}} comments</div>

  <div id="newPost">
    <textarea id="newPostText" #postText placeholder="Create a new comment!"></textarea>
    <br>
    <button (click)="createComment(post, postText.value); postText.value = '';">Squawk</button>
  </div>

  <div [style]="{'margin-left': '25px', 'margin-top':'20px'}" *ngIf="post.comments.length > 0 && !post.clicked">
    <span>{{post.comments[0].username}}</span>
    <span [style]="{'font-size':'12px'}"> commented:</span>
    <span [style]="{'font-size':'12px', 'float': 'right'}">{{post.comments[0].postedDate | date:'MM-dd-yyyy hh:mm:ss
      a'}}</span>
    <div class="commentContent">{{post.comments[0].message}}</div>
  </div>
  <button *ngIf="post.comments.length > 1 && !post.clicked" (click)="clickMoreComments(post)">Read comments</button>
  <div *ngIf="post.clicked">
    <app-comment *ngIf="clicked" [post]="post" [comments]="post.comments"></app-comment>
  </div>
</div>